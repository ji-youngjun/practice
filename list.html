<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"
        integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="main.css">
</head>

<body>

    <div class="container">
        <div class="row">

            <!-- <div class="col-sm-4">
                <img src="https://via.placeholder.com/600" class="w-100">
                <h5>Card title</h5>
                <p>가격 : 70000</p>
            </div> -->

        </div>
    </div>

    <div class="container my-3">
        <button class="btn btn-danger" id="price">가격순정렬</button>
    </div>
    <div class="container my-3">
        <button class="btn btn-danger" id="다나가">다나가정렬</button>
    </div>
    <div class="container my-3">
        <button class="btn btn-danger" id="육만이하">육만이하정렬</button>
    </div>

    <script>
        var products = [
            { id: 0, price: 70000, title: 'Blossom Dress' },
            { id: 1, price: 50000, title: 'Springfield Shirt' },
            { id: 2, price: 60000, title: 'Black Monastery' }
        ];

        document.querySelector('#price').addEventListener('click', function () {
            products.sort(function (a, b) {
                return a.price - b.price
            });

            document.querySelector('.row').innerHTML = ''

            products.forEach((a, i) => {
                let 템플릿 = `<div class="col-sm-4">
                    <img src="https://via.placeholder.com/600" class="w-100">
                        <h5>${products[i].title}</h5>
                        <p>가격 : ${products[i].price}</p> 
                        </div>`;
                document.querySelector('.row').insertAdjacentHTML('beforeend', 템플릿)
            });
        });

        document.querySelector('#다나가').addEventListener('click', function () {
            products.sort(function (a, b) {
                if (a.title < b.title) {
                    return 1;
                } if (a.title > b.title) {
                    return -1;
                } return 0;
            });
            document.querySelector('.row').innerHTML = ''

            products.forEach((a, i) => {
                let 템플릿 = `<div class="col-sm-4">
                    <img src="https://via.placeholder.com/600" class="w-100">
                        <h5>${products[i].title}</h5>
                        <p>가격 : ${products[i].price}</p> 
                        </div>`;
                document.querySelector('.row').insertAdjacentHTML('beforeend', 템플릿)
            });
        })

        document.querySelector('#육만이하').addEventListener('click', function () {
            let 새어레이 = products.filter(function (a) {
                return a.price <= 60000
            });
            document.querySelector('.row').innerHTML = ''

            새어레이.forEach((a, i) => {
                let 템플릿 = `<div class="col-sm-4">
                    <img src="https://via.placeholder.com/600" class="w-100">
                        <h5>${새어레이[i].title}</h5>
                        <p>가격 : ${새어레이[i].price}</p> 
                        </div>`;
                document.querySelector('.row').insertAdjacentHTML('beforeend', 템플릿)
            });
        })

        products.forEach(function (a, i) {
            let 템플릿 = `<div class="col-sm-4">
                <img src="https://via.placeholder.com/600" class="w-100">
                    <h5>${products[i].title}</h5>
                    <p>가격 : ${products[i].price}</p> 
                    <button class="buy">구매</button>
                    </div>`;
            document.querySelector('.row').insertAdjacentHTML('beforeend', 템플릿)
        })
        // $('.buy').click(function(e){
        //     let title = $(e.target).siblings('h5').text();
        //     if(localStorage.getItem('cart') != null){
        //         let 꺼낸것 = JSON.parse(localStorage.cart);
        //         꺼낸것.push(title);
        //         localStorage.setItem('cart', JSON.stringify(꺼낸것));
        //     } else{
        //         localStorage.setItem('cart', JSON.stringify([title]))
        //     }
        // })

        $(".buy").click(function(e){
            let 상품명 = $(e.target).siblings("h5").text();
            if(localStorage.getItem("cart") != null){
                let a = JSON.parse(localStorage.getItem("cart"));
                a.push(상품명);
                localStorage.setItem("cart", JSON.stringify(a));
            } else{
                localStorage.setItem("cart", JSON.stringify([상품명]));
            };
        });


        let arr = [1, 2, 3]
        let = newArr = JSON.stringify(arr)
        // localStorage.setItem("이름", newArr)

        let 꺼낸거 = localStorage.getItem('이름')
        꺼낸거 = JSON.parse(꺼낸거);



    </script>


    <div class="container">
        <button class="btn btn-danger" id="more">더보기</button>
    </div>

    <script>
        let counter = 0;
        document.querySelector('#more').addEventListener('click', function () {
            counter++;
            if (counter == 1) {
                fetch('https://codingapple1.github.io/js/more1.json')
                    .then(res => res.json())
                    .then(function (data) {
                        data.forEach((a, i) => {
                            let 템플릿 = `<div class="col-sm-4">
                    <img src="https://via.placeholder.com/600" class="w-100">
                        <h5>${data[i].title}</h5>
                        <p>가격 : ${data[i].price}</p> 
                        </div>`;
                            document.querySelector('.row').insertAdjacentHTML('beforeend', 템플릿)
                        })
                    });
            } else if (counter == 2) {
                fetch('https://codingapple1.github.io/js/more2.json')
                    .then(res => res.json())
                    .then(function (data) {
                        data.forEach((a, i) => {
                            let 템플릿 = `<div class="col-sm-4">
                    <img src="https://via.placeholder.com/600" class="w-100">
                        <h5>${data[i].title}</h5>
                        <p>가격 : ${data[i].price}</p> 
                        </div>`;
                            document.querySelector('.row').insertAdjacentHTML('beforeend', 템플릿)
                        })
                    });
            }
        })



    </script>


    <script src="tab.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>

</body>

</html>